(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/eat/subPages/menuDetail/menuDetail"],{"00e7":function(t,e,n){"use strict";n.r(e);var a=n("7829"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},"08e8":function(t,e,n){"use strict";n.r(e);var a=n("b32f"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},"0d89":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("3435"));function i(t){return t&&t.__esModule?t:{default:t}}var r={props:{foodList:Array,goToDetail:Function,addShopCar:Function},data:function(){return{}},methods:{scroll:function(){}},components:{menuDetailItem:a.default}};e.default=r},1540:function(t,e,n){"use strict";var a=n("ff20"),i=n.n(a);i.a},"2bdc":function(t,e,n){"use strict";n.r(e);var a=n("7213"),i=n("da79");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);var s=n("2877"),u=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,"7bc9343a",null);e["default"]=u.exports},"2fca":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"desc"},[n("image",{staticClass:"desc-img",attrs:{"lazy-load":"",src:t.menuInfo.recipe_image,eventid:"337679db-0"},on:{tap:t.previewImage}}),n("view",{staticClass:"desc-bottom"},[n("view",{staticClass:"desc-name"},[t._v(t._s(t.menuInfo.name))]),n("view",{staticClass:"desc-share",attrs:{eventid:"337679db-1"},on:{tap:function(e){t.share(t.menuInfo)}}},[t._v("立即分享")])])])},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},3435:function(t,e,n){"use strict";n.r(e);var a=n("75ec"),i=n("00e7");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("ef68");var s=n("2877"),u=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,"504868d7",null);e["default"]=u.exports},"36db":function(t,e,n){"use strict";n.r(e);var a=n("2fca"),i=n("08e8");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("5e92");var s=n("2877"),u=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,"64702d61",null);e["default"]=u.exports},"49e8":function(t,e,n){"use strict";n.r(e);var a=n("529b"),i=n("9e90");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("1540");var s=n("2877"),u=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,"05391958",null);e["default"]=u.exports},"529b":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"step"},[n("view",{staticClass:"step-title"},[t._v("步骤")]),n("view",{staticClass:"step-list"},[t._l(t.menuStep,function(e,a){return n("view",{key:a,staticClass:"step-item"},[n("image",{attrs:{"lazy-load":"true",src:e.procedure_img}}),n("view",{staticClass:"step-right"},[n("view",{staticClass:"step-step"},[t._v(t._s(e.step))]),n("view",{staticClass:"step-content"},[t._v(t._s(e.procedure))])])])}),t.menuStep.length<=0?n("view",{staticClass:"nodata"},[n("image",{attrs:{src:"/static/images/mine/nodata1.png"}}),n("view",[t._v("没有更多了...")])]):t._e()],2)])},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},5495:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{menuStep:Array},data:function(){return{}}};e.default=a},"55aa":function(t,e,n){},"5e92":function(t,e,n){"use strict";var a=n("8c9e"),i=n.n(a);i.a},7213:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",[n("menuDetail-desc",{attrs:{previewImage:t.previewImage,share:t.share,menuInfo:t.menuInfo,mpcomid:"1f750138-0"}}),n("menuDetail-food",{attrs:{foodList:t.foodList,addShopCar:t.addShopCar,goToDetail:t.goToDetail,mpcomid:"1f750138-1"}}),n("menuDetail-step",{attrs:{menuStep:t.menuStep,mpcomid:"1f750138-2"}})],1)},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},"75ec":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("swiper",{staticClass:"swiper",staticStyle:{height:"234rpx"}},t._l(t.itemList,function(e,a){return n("swiper-item",{key:a,attrs:{mpcomid:"3378f65d-0-"+a}},[n("view",{staticClass:"swiper-item"},[n("view",{staticClass:"img-wrap",staticStyle:{position:"relative"}},[n("image",{attrs:{"lazy-load":"true",src:e.goods_image,eventid:"3378f65d-0-"+a},on:{tap:function(n){t.goToDetail(e)}}}),e.restrictions_num?n("view",{staticClass:"item-limit"},[t._v("限"+t._s(e.restrictions_num)+"份")]):t._e()]),n("view",{staticClass:"item-right"},[n("view",{staticClass:"item-name",attrs:{eventid:"3378f65d-1-"+a},on:{tap:function(n){t.goToDetail(e)}}},[t._v(t._s(e.name))]),n("view",{staticClass:"item-price"},[t._v("￥"+t._s(e.price))]),n("view",{staticClass:"item-bottom"},[n("view",{staticClass:"item-member-price"},[t._v("会员价："),n("text",[t._v("￥"+t._s("0.00"==e.vip_price?e.price:e.vip_price))])]),n("image",{attrs:{src:"/static/images/home/shouye-icon-jia@2x.png",eventid:"3378f65d-2-"+a},on:{tap:function(n){t.addShopCar(e)}}})])])])])}))},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},7829:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{itemList:Array,addShopCar:Function,goToDetail:Function},data:function(){return{}}};e.default=a},"7cd3":function(t,e,n){"use strict";var a=n("55aa"),i=n.n(a);i.a},"8c9e":function(t,e,n){},"985c":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n("a34a")),i=o(n("36db")),r=o(n("f7d4")),s=o(n("49e8")),u=n("78dd");function o(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n,a,i,r,s){try{var u=t[r](s),o=u.value}catch(c){return void n(c)}u.done?e(o):Promise.resolve(o).then(a,i)}function f(t){return function(){var e=this,n=arguments;return new Promise(function(a,i){var r=t.apply(e,n);function s(t){c(r,a,i,s,u,"next",t)}function u(t){c(r,a,i,s,u,"throw",t)}s(void 0)})}}var d={data:function(){return{menuInfo:{},foodList:[],menuStep:[]}},onLoad:function(t){this._getMenuDetail(t.id)},methods:{share:function(){var e=f(a.default.mark(function e(n){var i,r;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i=t.getStorageSync("token"),r="",i?t.showActionSheet({itemList:["分享到聊天","分享到朋友圈"],success:function(e){0==e.tapIndex&&(r="WXSceneSession"),1==e.tapIndex&&(r="WXSenceTimeline"),t.share({provider:"weixin",scene:r,type:0,imageUrl:"http://112.124.201.81/logo.png",href:"https://fir.im/g41w",summary:"我正在使用买菜帮APP，生鲜蔬果急宅送，赶紧跟我一起来体验!",success:function(t){(0,u.shareMenu)({token:i,recipe_id:n.id}),console.log("success:"+JSON.stringify(t))}})}}):this.$dealLogin();case 3:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),addShopCar:function(){var e=f(a.default.mark(function e(n){var i,r;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(i=t.getStorageSync("token"),i){e.next=5;break}this.$dealLogin(),e.next=9;break;case 5:return e.next=7,(0,u.addGoodsToCar)({token:i,xgoods_id:n.id,num:1});case 7:r=e.sent,1e4==r.recode?t.showToast({title:"加入购物车成功"}):t.showToast({title:r.remsg});case 9:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),goToDetail:function(e){t.navigateTo({url:"/pages/home/subPages/mealDetail/mealDetail?id="+e.id,animationType:"slide-in-right"})},_getMenuDetail:function(){var e=f(a.default.mark(function e(n){var i;return a.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.showLoading({title:"正在加载数据..."}),e.next=3,(0,u.getMenuDetail)({r_id:n});case 3:i=e.sent,t.hideLoading(),this.menuInfo=i.data,this.foodList=i.data.xmaterial,this.menuStep=i.data.procedure;case 8:case"end":return e.stop()}},e,this)}));function n(t){return e.apply(this,arguments)}return n}(),previewImage:function(){}},onNavigationBarButtonTap:function(e){var n=t.getStorageSync("token");n?t.switchTab({url:"/pages/car/index/index"}):this.$dealLogin()},components:{menuDetailDesc:i.default,menuDetailFood:r.default,menuDetailStep:s.default}};e.default=d}).call(this,n("6e42")["default"])},"99a2":function(t,e,n){"use strict";n("4b50");var a=r(n("b0ce")),i=r(n("2bdc"));function r(t){return t&&t.__esModule?t:{default:t}}Page((0,a.default)(i.default))},"9e90":function(t,e,n){"use strict";n.r(e);var a=n("5495"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},afbf:function(t,e,n){"use strict";n.r(e);var a=n("0d89"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},b32f:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={props:{menuInfo:Object,share:Function,previewImage:Function},data:function(){return{}}};e.default=a},c7a5:function(t,e,n){},d40c:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("view",{staticClass:"food"},[n("view",{staticClass:"food-title"},[t._v("食材")]),n("view",{staticClass:"food-list"},t._l(t.foodList,function(e,a){return n("view",{key:a,staticClass:"food-item"},[n("view",{staticClass:"food-name"},[t._v(t._s(e.second_name))]),n("menuDetail-item",{attrs:{itemList:e.goods,goToDetail:t.goToDetail,addShopCar:t.addShopCar,mpcomid:"337787a8-0-"+a}})],1)}))])},i=[];n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i})},da79:function(t,e,n){"use strict";n.r(e);var a=n("985c"),i=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);e["default"]=i.a},ef68:function(t,e,n){"use strict";var a=n("c7a5"),i=n.n(a);i.a},f7d4:function(t,e,n){"use strict";n.r(e);var a=n("d40c"),i=n("afbf");for(var r in i)"default"!==r&&function(t){n.d(e,t,function(){return i[t]})}(r);n("7cd3");var s=n("2877"),u=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,"ee8a4a6a",null);e["default"]=u.exports},ff20:function(t,e,n){}},[["99a2","common/runtime","common/vendor"]]]);