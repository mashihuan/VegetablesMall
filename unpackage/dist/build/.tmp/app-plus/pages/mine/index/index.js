(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/index/index"],{"0342":function(e,t,n){"use strict";n.r(t);var i=n("87eb"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t["default"]=s.a},1155:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",[n("mine-info",{attrs:{isSuccess:e.isSuccess,userSignIn:e.userSignIn,mineInfo:e.mineInfo,switchTo:e.switchTo,mpcomid:"d17aaabc-0"}}),n("view",{staticClass:"mine-content"},[n("mine-order",{attrs:{moreOrderClick:e.moreOrderClick,list:e.orderList,switchTo:e.switchTo,mpcomid:"d17aaabc-1"}}),n("mine-order",{attrs:{list:e.functionList,switchTo:e.switchTo,mpcomid:"d17aaabc-2"}})],1),n("signIn-success",{attrs:{isSuccess:e.isSuccess,confirm:e.signSuccessConfirm,mpcomid:"d17aaabc-3"}})],1)},s=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s})},"138c":function(e,t,n){"use strict";n.r(t);var i=n("d951"),s=n("c00f");for(var a in s)"default"!==a&&function(e){n.d(t,e,function(){return s[e]})}(a);n("250e");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,"107232a1",null);t["default"]=o.exports},"241f":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{list:Object,switchTo:Function,moreOrderClick:Function},data:function(){return{}}};t.default=i},"250e":function(e,t,n){"use strict";var i=n("64da"),s=n.n(i);s.a},2871:function(e,t,n){"use strict";var i=n("b577"),s=n.n(i);s.a},"64da":function(e,t,n){},"74e1":function(e,t,n){"use strict";n.r(t);var i=n("1155"),s=n("0342");for(var a in s)"default"!==a&&function(e){n.d(t,e,function(){return s[e]})}(a);n("de6c");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,"083fe2c2",null);t["default"]=o.exports},"7d95":function(e,t,n){"use strict";n.r(t);var i=n("241f"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t["default"]=s.a},"87eb":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=c(n("a34a")),s=c(n("138c")),a=c(n("dcc1")),r=c(n("9b65")),o=n("78dd");function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,i,s,a,r){try{var o=e[a](r),c=o.value}catch(u){return void n(u)}o.done?t(c):Promise.resolve(c).then(i,s)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(i,s){var a=e.apply(t,n);function r(e){u(a,i,s,r,o,"next",e)}function o(e){u(a,i,s,r,o,"throw",e)}r(void 0)})}}var l={data:function(){return{orderList:{type:"order",title:"我的订单",list:[{icon:"/static/images/mine/wode-icon-dfk@2x.png",text:"待付款"},{icon:"/static/images/mine/wode-icon-dsh@2x.png",text:"待收货"},{icon:"/static/images/mine/wode-icon-dpj@2x.png",text:"待评价"},{icon:"/static/images/mine/wode-icon-sh@2x.png",text:"售后/退款"}]},functionList:{type:"function",title:"常用功能",list:[{icon:"/static/images/mine/wode-icon-vip@2x.png",text:"会员卡"},{icon:"/static/images/mine/wode-icon-address@2x.png",text:"收货地址"},{icon:"/static/images/mine/wode-icon-wallet@2x.png",text:"我的钱包"},{icon:"/static/images/mine/wode-icon-gift@2x.png",text:"邀请有礼"},{icon:"/static/images/mine/wode-icon-kf@2x.png",text:"联系客服"},{icon:"/static/images/mine/wode-icon-yjfk@2x.png",text:"意见反馈"},{icon:"/static/images/mine/wode-icon-sz@2x.png",text:"设置"}]},minHeight:0,mineInfo:{},isShowRedDot:!1,isSuccess:!1}},onNavigationBarButtonTap:function(){e.navigateTo({url:"/pages/mine/subPages/message/message",animationType:"slide-in-right"})},onLoad:function(){},onShow:function(){this._getOrderList(),this._getPersonalInfo(),this._getMessageList(),this._getAfterSaleRecord()},onReady:function(){},onPullDownRefresh:function(){this._getPersonalInfo()},methods:{_getAfterSaleRecord:function(){var t=d(i.default.mark(function t(){var n,s,a=this;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.getAfterSaleRecord)({token:e.getStorageSync("token")});case 2:n=t.sent,1e4==n.recode&&(s=0,n.data.forEach(function(e,t){s++,a.$set(a.orderList.list[3],"num",s)}));case 4:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),_getOrderList:function(){var t=d(i.default.mark(function t(){var n,s,a,r,c,u=this;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.getOrderList)({token:e.getStorageSync("token"),status:"all"});case 2:n=t.sent,s=[],1e4==n.recode&&(s=n.data.length?n.data:Object.values(n.data)),a=0,r=0,c=0,0,s.forEach(function(e,t){"待付款"!=e.order_status&&"代付款"!=e.order_status||(a++,u.$set(u.orderList.list[0],"num",a)),"待收货"==e.order_status&&(r++,u.$set(u.orderList.list[1],"num",r)),"待评价"==e.order_status&&(c++,u.$set(u.orderList.list[2],"num",c))});case 7:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),userSignIn:function(){var t=d(i.default.mark(function t(){var n;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.signIn)({token:e.getStorageSync("token")});case 2:n=t.sent,1e4==n.recode?(this.isSuccess=!0,this._getPersonalInfo()):e.showToast({title:n.remsg,icon:"none"});case 4:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),signSuccessConfirm:function(){this.isSuccess=!1},_getPersonalInfo:function(){var t=d(i.default.mark(function t(){var n;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e.getStorageSync("token"),e.showLoading({title:"正在加载数据..."}),t.next=4,(0,o.getPersonalInfo)({token:e.getStorageSync("token")});case 4:n=t.sent,e.hideLoading(),e.stopPullDownRefresh(),1e4==n.recode?this.mineInfo=n.data:e.redirectTo({url:"/pages/login/login/login",animationType:"slide-in-right"});case 8:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),_getMessageList:function(){var t=d(i.default.mark(function t(){var n,s;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.getMessageList)({token:e.getStorageSync("token")});case 2:n=t.sent,1e4==n.recode?(s=!1,n.data.forEach(function(e,t){0==e.reading_state&&(s=!0)}),this.isShowRedDot=s,this.setStyle(0,this.isShowRedDot)):(this.isShowRedDot=!1,this.setStyle(0,this.isShowRedDot));case 4:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),setStyle:function(e,t,n){var i=getCurrentPages(),s=i[i.length-1],a=s.$getAppWebview();t?a.showTitleNViewButtonRedDot({index:e,text:n}):a.hideTitleNViewButtonRedDot({index:e})},switchTo:function(t,n){if("order"==t&&(0==n&&e.navigateTo({url:"/pages/mine/subPages/order/order?id=0",animationType:"slide-in-right"}),1==n&&e.navigateTo({url:"/pages/mine/subPages/order/order?id=2",animationType:"slide-in-right"}),2==n&&e.navigateTo({url:"/pages/mine/subPages/order/order?id=3",animationType:"slide-in-right"}),3==n&&e.navigateTo({url:"/pages/mine/subPages/after-sale/after-sale",animationType:"slide-in-right"})),"function"==t&&(0==n&&e.navigateTo({url:"/pages/mine/subPages/member/member",animationType:"slide-in-right"}),1==n&&e.navigateTo({url:"/pages/mine/subPages/addressList/addressList",animationType:"slide-in-right"}),2==n&&e.navigateTo({url:"/pages/mine/subPages/wallet/wallet",animationType:"slide-in-right"}),3==n&&e.navigateTo({url:"/pages/mine/subPages/invite/invite",animationType:"slide-in-right"}),4==n&&e.navigateTo({url:"/pages/mine/subPages/customer-service/customer-service",animationType:"slide-in-right"}),5==n&&e.navigateTo({url:"/pages/mine/subPages/feedback/feedback",animationType:"slide-in-right"}),6==n&&e.navigateTo({url:"/pages/mine/subPages/set/set",animationType:"slide-in-right"})),"coupon"==t&&e.navigateTo({url:"/pages/mine/subPages/coupon/coupon",animationType:"slide-in-right"}),"score"==t){var i=this.mineInfo.score||0,s=this.mineInfo.max_sign||0;e.navigateTo({url:"/pages/mine/subPages/score/score?score="+i+"&max_sign="+s,animationType:"slide-in-right"})}},moreOrderClick:function(){e.navigateTo({url:"/pages/mine/subPages/order/order",animationType:"slide-in-right"})}},components:{mineInfo:s.default,mineOrder:a.default,signInSuccess:r.default}};t.default=l}).call(this,n("6e42")["default"])},b577:function(e,t,n){},c00f:function(e,t,n){"use strict";n.r(t);var i=n("fb6f"),s=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,function(){return i[e]})}(a);t["default"]=s.a},d75c:function(e,t,n){"use strict";n("4b50");var i=a(n("b0ce")),s=a(n("74e1"));function a(e){return e&&e.__esModule?e:{default:e}}Page((0,i.default)(s.default))},d951:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:"mine"},[n("view",{staticClass:"mine-title"},[e._v("个人中心")]),n("view",{staticClass:"mine-info-wrap"},[n("view",{staticClass:"mine-info"},[n("navigator",{attrs:{"hover-class":"none",url:"/pages/mine/subPages/personalInfo/personalInfo","animation-type":"slide-in-right"}},[n("image",{staticClass:"mine-avatar",attrs:{src:e.mineInfo.avatar||"/static/images/mine/wode-icon-tx@2x.png"}})]),n("view",{staticClass:"mine-detail"},[n("view",{staticClass:"mine-detail-top"},[n("text",{staticClass:"mine-name"},[e._v(e._s(e.mineInfo.nickname||"待完善"))]),n("text",{directives:[{name:"show",rawName:"v-show",value:1==e.mineInfo.is_vip,expression:"mineInfo.is_vip == 1"}],staticClass:"mine-vip"},[e._v("VIP")])]),n("view",{staticClass:"mine-phone"},[n("image",{staticClass:"phone-icon",attrs:{src:"/static/images/mine/wode-icon-shouji@2x.png"}}),n("text",{staticClass:"phone-number"},[e._v(e._s(e.mineInfo.mobile||"待完善"))])])]),n("view",{staticClass:"mine-signIn"},[e.mineInfo.lessign_status?n("view",{staticClass:"sing-btn",attrs:{eventid:"280a03f0-0"},on:{tap:e.userSignIn}},[e._v("已签到")]):n("view",{staticClass:"sing-btn",attrs:{eventid:"280a03f0-1"},on:{tap:e.userSignIn}},[e._v("签到")]),n("view",{staticClass:"sing-day"},[e._v("已连续签到"+e._s(e.mineInfo.max_sign||0)+"天")])])],1),n("view",{staticClass:"mine-info-bottom"},[n("view",{staticClass:"mine-discount",attrs:{eventid:"280a03f0-2"},on:{tap:function(t){e.switchTo("coupon")}}},[n("image",{attrs:{src:"/static/images/mine/wode-icon-yhq@2x.png"}}),n("text",[e._v("优惠券")]),n("text",{staticClass:"number"},[e._v(e._s(e.mineInfo.discount||0)+"张")])]),n("view",{staticClass:"mine-score",attrs:{eventid:"280a03f0-3"},on:{tap:function(t){e.switchTo("score")}}},[n("image",{attrs:{src:"/static/images/mine/wode-icon-jf@2x.png"}}),n("text",[e._v("积分")]),n("text",{staticClass:"number"},[e._v(e._s(e.mineInfo.score||0)+"分")])])])])])},s=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s})},dc85:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("view",{staticClass:"mine-order"},[n("view",{staticClass:"order-top"},[n("view",{staticClass:"order-title"},[e._v(e._s(e.list.title))]),"order"==e.list.type?n("view",{staticClass:"order-more"},[n("view",{attrs:{eventid:"d889cd98-0"},on:{tap:e.moreOrderClick}},[e._v("查看更多订单")]),n("image",{attrs:{src:"/static/images/mine/wode-zl-next@2x.png"}})]):e._e()]),n("view",{staticClass:"order-list"},e._l(e.list.list,function(t,i){return n("view",{key:i,staticClass:"order-item",attrs:{eventid:"d889cd98-1-"+i},on:{tap:function(t){e.switchTo(e.list.type,i)}}},[n("view",{staticClass:"order-icon"},[n("image",{attrs:{src:t.icon}}),"order"==e.list.type&&t.num?n("view",{staticClass:"order-redDot"},[e._v(e._s(t.num))]):e._e()]),n("text",[e._v(e._s(t.text))])])}))])},s=[];n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s})},dcc1:function(e,t,n){"use strict";n.r(t);var i=n("dc85"),s=n("7d95");for(var a in s)"default"!==a&&function(e){n.d(t,e,function(){return s[e]})}(a);n("2871");var r=n("2877"),o=Object(r["a"])(s["default"],i["a"],i["b"],!1,null,"4ec96cc6",null);t["default"]=o.exports},de6c:function(e,t,n){"use strict";var i=n("e9e1"),s=n.n(i);s.a},e9e1:function(e,t,n){},fb6f:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={props:{switchTo:Function,mineInfo:Object,userSignIn:Function,isSuccess:Boolean},data:function(){return{}}};t.default=i}},[["d75c","common/runtime","common/vendor"]]]);